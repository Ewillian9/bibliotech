{% extends 'base.html.twig' %}

{% block title %} D√©tails du livre {% endblock %}

{% block body %}
<div class="max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg mt-10">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Image du livre -->
        <div class="col-span-1">
            <img src="{{ book.image }}" alt="{{ book.title }}" class="w-full rounded-lg shadow-md">
        </div>

        <!-- D√©tails du livre -->
        <div class="col-span-2">
            <h1 class="text-4xl font-bold text-gray-800">{{ book.title }}</h1>
            <p class="text-lg text-gray-700 mt-2"><strong>Auteur :</strong> {{ book.author }}</p>
            <p class="text-gray-600"><strong>Genre :</strong> {{ book.genre }}</p>
            <p class="text-gray-600"><strong>Note :</strong> ‚≠ê {{ book.rating }}/5</p>
            <p class="text-gray-700 mt-3"><strong>Resum√© :</strong> {{ book.overview }}</p>

            {% if book.isAvailable %}
                <p class="text-green-600 font-medium mt-4">‚úÖ Ce livre est disponible</p>
   <form action="{{ path('book_loan', { id: book.id }) }}" method="post" class="mt-4">
    <button type="submit" class="w-full md:w-auto bg-blue-500 text-white font-semibold px-4 py-6 
        rounded-xl shadow-md transition duration-300 ease-in-out transform 
        hover:bg-blue-600 hover:scale-105 hover:shadow-lg focus:ring-4 
        focus:ring-blue-300">
        üìñ Emprunter ce livre
    </button>
</form>



            {% else %}
                <p class="text-red-600 font-medium mt-4">‚ùå Ce livre est actuellement emprunt√©</p>
            {% endif %}
        </div>
    </div>

    <!-- Bouton de retour -->
    <div class="mt-6">
        <a href="{{ path('homepage') }}" class="text-blue-500 hover:underline flex items-center">
            ‚Üê Retour √† la liste des livres
        </a>
    </div>

    <!-- Messages flash -->
    {% for message in app.flashes('success') %}
        <p class="text-green-500 mt-4">{{ message }}</p>
    {% endfor %}
    {% for message in app.flashes('error') %}
        <p class="text-red-500 mt-4">{{ message }}</p>
    {% endfor %}
</div>
{% endblock %}
